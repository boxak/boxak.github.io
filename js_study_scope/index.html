<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.12.4"/><style data-href="/styles.9e907bc32054b7771552.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><link rel="canonical" href="https://boxak.github.io/js_study_scope/" data-baseprotocol="https:" data-basehost="boxak.github.io"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css 13ku56z">.css-13ku56z{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;}</style><main class="css-13ku56z e1strnqo0"><style data-emotion="css-global 1u9551y">@import url('https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700;800&display=swap');@import url('https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&display=swap');*{padding:0;margin:0;box-sizing:border-box;font-family:'Nanum Myeongjo',serif;}html,body,#___gatsby{height:100%;}a,a:hover{color:inherit;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}.gatsby-highlight span{font-family:'Nanum Gothic Coding',monospace;font-weight:700;}</style><style data-emotion="css 179pl2g">.css-179pl2g{position:relative;width:100%;height:400px;}</style><div class="css-179pl2g e1opi4mu1"><style data-emotion="css dkwb1y">.css-dkwb1y{z-index:-1;width:100%;height:400px;object-fit:cover;-webkit-filter:brightness(0.25);filter:brightness(0.25);}</style><div data-gatsby-image-wrapper="" style="position:absolute" class="gatsby-image-wrapper gatsby-image-wrapper-constrained css-dkwb1y e1opi4mu0"><div style="max-width:1200px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;630&#x27;%20width=&#x27;1200&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#e8d848;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/854d97a2047b5eedb2aa8ec6d3633cbe/c7da1/JavaScript.webp 300w,/static/854d97a2047b5eedb2aa8ec6d3633cbe/22c65/JavaScript.webp 600w,/static/854d97a2047b5eedb2aa8ec6d3633cbe/81547/JavaScript.webp 1200w" sizes="(min-width: 1200px) 1200px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1200px) 1200px, 100vw" decoding="async" loading="lazy" data-src="/static/854d97a2047b5eedb2aa8ec6d3633cbe/fcb2f/JavaScript.jpg" data-srcset="/static/854d97a2047b5eedb2aa8ec6d3633cbe/f1930/JavaScript.jpg 300w,/static/854d97a2047b5eedb2aa8ec6d3633cbe/550ca/JavaScript.jpg 600w,/static/854d97a2047b5eedb2aa8ec6d3633cbe/fcb2f/JavaScript.jpg 1200w" alt="thumbnail"/></picture><noscript><picture><source type="image/webp" srcSet="/static/854d97a2047b5eedb2aa8ec6d3633cbe/c7da1/JavaScript.webp 300w,/static/854d97a2047b5eedb2aa8ec6d3633cbe/22c65/JavaScript.webp 600w,/static/854d97a2047b5eedb2aa8ec6d3633cbe/81547/JavaScript.webp 1200w" sizes="(min-width: 1200px) 1200px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1200px) 1200px, 100vw" decoding="async" loading="lazy" src="/static/854d97a2047b5eedb2aa8ec6d3633cbe/fcb2f/JavaScript.jpg" srcSet="/static/854d97a2047b5eedb2aa8ec6d3633cbe/f1930/JavaScript.jpg 300w,/static/854d97a2047b5eedb2aa8ec6d3633cbe/550ca/JavaScript.jpg 600w,/static/854d97a2047b5eedb2aa8ec6d3633cbe/fcb2f/JavaScript.jpg 1200w" alt="thumbnail"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><style data-emotion="css 1nt3uj4">.css-1nt3uj4{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;height:100%;margin:0 auto;padding:60px 0;color:#ffffff;}</style><div class="css-1nt3uj4 e1st1jau3"><style data-emotion="css khrtos">.css-khrtos{display:grid;place-items:center;width:40px;height:40px;border-radius:50%;background-color:#ffffff;color:#000000;font-size:22px;cursor:pointer;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);}</style><div class="css-khrtos e1st1jau2"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" class="svg-inline--fa fa-arrow-left " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"></path></svg></div><style data-emotion="css 1w9xhjj">.css-1w9xhjj{display:-webkit-box;overflow:hidden;overflow-wrap:break-word;margin-top:auto;text-overflow:ellipsis;white-space:normal;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:45px;font-weight:800;}</style><div class="css-1w9xhjj e1st1jau1">[Javscript-Study] Lexical Scope와 Closure</div><style data-emotion="css ll8ohq">.css-ll8ohq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:10px;font-size:18px;font-weight:700;}</style><div class="css-ll8ohq e1st1jau0"><div>자바스크립트 기본기</div><div>2024.05.27.</div></div></div></div><style data-emotion="css ofkt1x">.css-ofkt1x{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;margin:0 auto;padding:100px 0;word-break:break-all;line-height:1.8;font-size:16px;font-weight:400;}.css-ofkt1x p{padding:3px 0;}.css-ofkt1x h1,.css-ofkt1x h2,.css-ofkt1x h3{font-weight:800;margin-bottom:30px;}.css-ofkt1x *+h1,.css-ofkt1x *+h2,.css-ofkt1x *+h3{margin-top:0;}.css-ofkt1x hr+h1,.css-ofkt1x hr+h2,.css-ofkt1x hr+h3{margin-top:0;}.css-ofkt1x h1{font-size:30px;}.css-ofkt1x h2{font-size:25px;}.css-ofkt1x h3{font-size:20px;}.css-ofkt1x blockquote{margin:30px 0;padding:5px 15px;border-left:2px solid #000000;font-weight:800;}.css-ofkt1x ol,.css-ofkt1x ul{margin-left:20px;padding:30px 0;}.css-ofkt1x hr{border:1px solid #000000;margin:100px 0;}.css-ofkt1x a{color:#4263eb;-webkit-text-decoration:underline;text-decoration:underline;}.css-ofkt1x pre[class*='language']{margin:30px 0;padding:15px;font-size:15px;}.css-ofkt1x pre[class*='language']::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.5);background-radius:3px;}.css-ofkt1x code[class*='language-'],.css-ofkt1x pre[class*='language-']{tab-size:2;}</style><div class="css-ofkt1x e1ijh0y10"><h2>1. Scope에 대해 먼저 알아보자.</h2>
<p>변수에 접근할 수 있는 범위를 그 변수의 <strong>유효범위</strong>(scope)라고 한다. 유효 범위를 결정하는 방법이 두 가지가 존재한다.</p>
<ol>
<li>어휘적 범위(Lexical Scope) : 프로그램의 구문만으로 유효 범위를 정하는 방법</li>
<li>동적 범위(Dynamic Scope) : 프로그램 실행 중에 유효 범위를 정하는 방법</li>
</ol>
<h1></h1>
<h2>2. Lexical Scope는 무엇일까.</h2>
<p>자바스크립트는 <strong>Lexical Scope</strong>를 채택하고 있다.</p>
<p>Lexical Scope는 다른 말로 표현하면 정적 스코프(Static Scope)라고 표현할 수 있다. 이는 C, JAVA 등의 프로그래밍 언어에서도 채택하고 있으므로 그리 낯선 개념은 아니다. 그런데 굳이 렉시컬 스코프라고 표현하는 이유가 무엇이고 자바스크립트에서는 어떤 현상을 발생시키는 것일까?</p>
<p>아래의 코드를 보자.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">function</span> <span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">10</span>
  <span class="token function">second</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">second</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">second</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 출력 결과</span>
<span class="token comment">// 1</span>
<span class="token comment">// 1</span></code></pre></div>
<p>언뜻 보기에 맨 첫줄에서 var x = 1 로 값이 할당되었고 first 함수 내부에서 다시 var x = 10으로 재선언 및 재할당되었다. 자바스크립트는 var로 선언된 변수는 재선언을 허용하므로 x = 10으로 업데이트된 상황에서 second 함수를 호출하였으니 첫번째 출력 결과는 10. second 함수를 직접 호출하였을 때는 첫번째에 first 함수를 호출하면서 x의 값이 10으로 바뀌었으니 역시나 10이 출력되어야 할 것처럼 보인다.</p>
<p>하지만 Lexical Scope에 의해 함수 내부 변수의 스코프는 프로그램 실행시에 결정되는 것이 아니라 코드 자체의 해석에 의해 결정된다.</p>
<p>무슨 말이냐면, second 함수는 first 함수 내에서 호출된다. 하지만 이것과는 상관없이 <strong>함수 선언</strong>이 어느 스코프에서 되어있는지를 봐야한다. first, second 두 함수 모두 전역 스코프에서 정의되었기 때문에 함수 호출이 어디에서 일어나는 지에 상관없이 전역 스코프를 가진다는 의미이다. 따라서 first 함수 내에 지역적으로 정의된 var x = 10은 second 함수에서 console.log(x) 코드를 실행할 때 영향을 주지 못하는 것이다.</p>
<p>–> 사실 여기서 느끼는 부분인데, 만일에 var 가 아니라 let으로 변수 선언을 했다면은 코드를 보고 어떤 값이 출력될 지 추측하는 것이 어렵지 않았을 것이다. let 으로 선언해도 1이 두 번 출력되는 것은 마찬가지지만 우리는 let이 블록 스코프 변수 선언자라는 것을 알기 때문에 first 안의 let x = 10이 함수 바깥에 영향을 주지 않는다는 것을 알고 있으므로 어떤 결과가 출력될 지에 대해 헷갈리지 않았을 것이다.</p>
<h1></h1>
<h1>3. Scope Chain</h1>
<ul>
<li>만일 second 함수가 first 함수 내부에 선언되어 있었다면?</li>
</ul>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">function</span> <span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">10</span>
  <span class="token keyword">function</span> <span class="token function">second</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">second</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<h1></h1>
<p>위의 코드를 실행하면 10이 출력된다. 그 이유는 무엇일까? 당연히 second 함수 바로 위에 var x = 10; 이라는 코드가 있기 때문에 예상되는 출력 결과이다. 하지만 여기서 스코프 체인과 실행 컨텍스트를 이해하고 원리를 알아보자.</p>
<ul>
<li>Scope Chain</li>
</ul>
<p>스코프 체인은 어떤 함수가 전역으로 선언되어 있는 것이 아니라 어떤 함수 내부에 선언되어 있는 경우에 적용할 수 있다. 위의 경우에서 first 함수 내부에 second 함수가 있다면, second 함수 내부에서 x가 사용될 경우, 먼저 second 함수 내부에 x가 있는지를 찾고, 그 다음에 자신의 바로 상위 함수인 first에서 찾게 된다. 만일, first에서도 없으면 전역 스코프에서 x를 찾게 된다. 이것을 스코프 체인이라 하고, Scope Chain은 먼저 선언된 함수일수록 나중 순서로 변수를 찾게 되는데 이는 스택의 LIFO(Last In First Out)과 유사하다.</p></div><div></div><style data-emotion="css 9w9jmx">.css-9w9jmx{display:grid;place-items:center;margin-top:auto;padding:50px 0;font-size:15px;text-align:center;line-height:1.5;}@media (max-width: 768px){.css-9w9jmx{font-size:13px;}}</style><footer class="css-9w9jmx e1oae0v80">Thank You for Visiting My Blog, Have a Good Day 😆<br/>© 2021 Developer Hyun, Powered By Gatsby.</footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/js_study_scope/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-4259b1a0dbd23faf49e4.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-dc3c1aad471f45b02681.js\"],\"component---src-pages-info-tsx\":[\"/component---src-pages-info-tsx-dbc9fef63cf446878e42.js\"],\"component---src-templates-post-template-tsx\":[\"/component---src-templates-post-template-tsx-9b6e07f2ddf07dc12ba0.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="a6d5651ffc16ca07819b";</script><script src="/webpack-runtime-2712c9843d65577d9522.js" async></script><script src="/framework-6a525285796fb83f2864.js" async></script><script src="/app-4259b1a0dbd23faf49e4.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>