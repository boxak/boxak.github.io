<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.12.4"/><style data-href="/styles.9e907bc32054b7771552.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><link rel="canonical" href="https://boxak.github.io/fade_animation/" data-baseprotocol="https:" data-basehost="boxak.github.io"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css 13ku56z">.css-13ku56z{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;}</style><main class="css-13ku56z e1strnqo0"><style data-emotion="css-global 1u9551y">@import url('https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700;800&display=swap');@import url('https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&display=swap');*{padding:0;margin:0;box-sizing:border-box;font-family:'Nanum Myeongjo',serif;}html,body,#___gatsby{height:100%;}a,a:hover{color:inherit;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}.gatsby-highlight span{font-family:'Nanum Gothic Coding',monospace;font-weight:700;}</style><style data-emotion="css 179pl2g">.css-179pl2g{position:relative;width:100%;height:400px;}</style><div class="css-179pl2g e1opi4mu1"><style data-emotion="css dkwb1y">.css-dkwb1y{z-index:-1;width:100%;height:400px;object-fit:cover;-webkit-filter:brightness(0.25);filter:brightness(0.25);}</style><div data-gatsby-image-wrapper="" style="position:absolute" class="gatsby-image-wrapper gatsby-image-wrapper-constrained css-dkwb1y e1opi4mu0"><div style="max-width:600px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;313&#x27;%20width=&#x27;600&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f898f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/e110a7fe6132d69ef34031286adeaf07/06560/test.webp 150w,/static/e110a7fe6132d69ef34031286adeaf07/091a1/test.webp 300w,/static/e110a7fe6132d69ef34031286adeaf07/88a53/test.webp 600w" sizes="(min-width: 600px) 600px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 600px) 600px, 100vw" decoding="async" loading="lazy" data-src="/static/e110a7fe6132d69ef34031286adeaf07/5f1c8/test.png" data-srcset="/static/e110a7fe6132d69ef34031286adeaf07/9b1d7/test.png 150w,/static/e110a7fe6132d69ef34031286adeaf07/0c964/test.png 300w,/static/e110a7fe6132d69ef34031286adeaf07/5f1c8/test.png 600w" alt="thumbnail"/></picture><noscript><picture><source type="image/webp" srcSet="/static/e110a7fe6132d69ef34031286adeaf07/06560/test.webp 150w,/static/e110a7fe6132d69ef34031286adeaf07/091a1/test.webp 300w,/static/e110a7fe6132d69ef34031286adeaf07/88a53/test.webp 600w" sizes="(min-width: 600px) 600px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 600px) 600px, 100vw" decoding="async" loading="lazy" src="/static/e110a7fe6132d69ef34031286adeaf07/5f1c8/test.png" srcSet="/static/e110a7fe6132d69ef34031286adeaf07/9b1d7/test.png 150w,/static/e110a7fe6132d69ef34031286adeaf07/0c964/test.png 300w,/static/e110a7fe6132d69ef34031286adeaf07/5f1c8/test.png 600w" alt="thumbnail"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><style data-emotion="css 1nt3uj4">.css-1nt3uj4{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;height:100%;margin:0 auto;padding:60px 0;color:#ffffff;}</style><div class="css-1nt3uj4 e1st1jau3"><style data-emotion="css khrtos">.css-khrtos{display:grid;place-items:center;width:40px;height:40px;border-radius:50%;background-color:#ffffff;color:#000000;font-size:22px;cursor:pointer;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);}</style><div class="css-khrtos e1st1jau2"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" class="svg-inline--fa fa-arrow-left " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"></path></svg></div><style data-emotion="css 1w9xhjj">.css-1w9xhjj{display:-webkit-box;overflow:hidden;overflow-wrap:break-word;margin-top:auto;text-overflow:ellipsis;white-space:normal;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:45px;font-weight:800;}</style><div class="css-1w9xhjj e1st1jau1">CSS로 Fade In, Fade Out 구현하기</div><style data-emotion="css ll8ohq">.css-ll8ohq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:10px;font-size:18px;font-weight:700;}</style><div class="css-ll8ohq e1st1jau0"><div>프론트엔드 스터디</div><div>2023.12.09.</div></div></div></div><style data-emotion="css ofkt1x">.css-ofkt1x{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;margin:0 auto;padding:100px 0;word-break:break-all;line-height:1.8;font-size:16px;font-weight:400;}.css-ofkt1x p{padding:3px 0;}.css-ofkt1x h1,.css-ofkt1x h2,.css-ofkt1x h3{font-weight:800;margin-bottom:30px;}.css-ofkt1x *+h1,.css-ofkt1x *+h2,.css-ofkt1x *+h3{margin-top:0;}.css-ofkt1x hr+h1,.css-ofkt1x hr+h2,.css-ofkt1x hr+h3{margin-top:0;}.css-ofkt1x h1{font-size:30px;}.css-ofkt1x h2{font-size:25px;}.css-ofkt1x h3{font-size:20px;}.css-ofkt1x blockquote{margin:30px 0;padding:5px 15px;border-left:2px solid #000000;font-weight:800;}.css-ofkt1x ol,.css-ofkt1x ul{margin-left:20px;padding:30px 0;}.css-ofkt1x hr{border:1px solid #000000;margin:100px 0;}.css-ofkt1x a{color:#4263eb;-webkit-text-decoration:underline;text-decoration:underline;}.css-ofkt1x pre[class*='language']{margin:30px 0;padding:15px;font-size:15px;}.css-ofkt1x pre[class*='language']::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.5);background-radius:3px;}.css-ofkt1x code[class*='language-'],.css-ofkt1x pre[class*='language-']{tab-size:2;}</style><div class="css-ofkt1x e1ijh0y10"><h2>별자취 앱을 만들다가 애니메이션 효과를 플로팅 버튼에 주고 싶었다.</h2>
<p><img src="/53bb956e1a18e00d099ab288be184a7e/capture1.jpg" alt="화면 전환 전"></p>
<h1></h1>
<p>우리가 만들고 있는 별자취 앱의 메인 화면에 보면 + 모양의 플로팅 버튼이 존재한다. 이 버튼을 누르게 되면 ‘관계 등록하기’, ‘마음 기록하기’라는 버튼들이 등장하게 되는데, 플로팅 버튼 형식으로 등장하게 된다.</p>
<h1></h1>
<p><img src="/2f24f2fc22614e423e7424f71fbb38a8/capture2.jpg" alt="화면 전환 후"></p>
<h1></h1>
<p>그런데 지금은 이 화면으로 전환될 때, 0.3초간의 transition을 거쳐 전환되는 부드러운 애니메이션이 존재하는데 원래 화면으로 돌아갈 때는 이런 애니메이션이 존재하지 않았다. 그래서 나는 원래 화면으로 돌아갈 때도 부드러운 효과를 주고 싶었다.</p>
<h1></h1>
<p>현재 코드 :</p>
<h1></h1>
<p>_main.scss</p>
<div class="gatsby-highlight" data-language="scss"><pre class="language-scss"><code class="language-scss"><span class="token selector">.MainRegister </span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100vw<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.6<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 9999<span class="token punctuation">;</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> fade 0.3s forwards ease<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//animation</span>
<span class="token atrule"><span class="token rule">@keyframes</span> fade</span> <span class="token punctuation">{</span>
  <span class="token selector">0% </span><span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">100% </span><span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h1></h1>
<p>Main.tsx</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token operator">...</span>
<span class="token punctuation">{</span>registerBtn <span class="token operator">?</span> <span class="token operator">&lt;</span>MainRegister handleRegisterBtn<span class="token operator">=</span><span class="token punctuation">{</span>handleRegisterBtn<span class="token punctuation">}</span>
    isEmptyList<span class="token operator">=</span><span class="token punctuation">{</span>isEmptyList<span class="token punctuation">}</span>  <span class="token operator">/</span><span class="token operator">></span> <span class="token operator">:</span>
    <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">"button"</span> className<span class="token operator">=</span><span class="token string">"add-btn"</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleRegisterBtn<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">"add-btn-plus"</span><span class="token operator">></span><span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>IcPlusBtnOg<span class="token punctuation">}</span> alt<span class="token operator">=</span><span class="token string">"ic_plus_btn"</span><span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
<span class="token punctuation">}</span>
<span class="token operator">...</span></code></pre></div>
<p>보통의 경우라면 가령 MainRegister 의 className이 ‘mainRegister’라는 문자열로 되어 있다고 가정하면 mainRegister 가 사라져야 하는 경우에는 scss 파일에</p>
<p>.mainRegister .fade-out 이라고 두고 안에 fade-out을 시키는 css 문법을 작성함으로써, add-btn 이 클릭될 때마다 boolean 변수를 둬서</p>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token operator">&lt;</span>MainRegister <span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">MainRegister </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>registerBtn <span class="token operator">?</span> <span class="token string">""</span> <span class="token operator">:</span> <span class="token string">"fade-out"</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token operator">></span></code></pre></div>
<p>이런 식으로 코딩함으로써 애니메이션 효과를 줄 수 있었을 것이다. 하지만 나의 경우에는 조금 까다로운 문제가 있었는데, 그것은 뭐냐면 Main.tsx 단에서 close 이벤트가 일어날 때, registerBtn 이라는 변수가 삼항 연산자로 MainRegister를 보여줄 지, button 태그를 보여줄 지를 결정하는 데, 저것때문에 MainRegister에서 fade out 애니메이션을 채 보여주기도 전에 MainRegister는 Main 컴포넌트에서 detatch 되는 상태가 되버린다. 즉 컴포넌트 자체가 사라져버려 애니메이션 효과라 쓸모가 없다.</p>
<h3>해결법</h3>
<p>그러자면 먼저 Main.tsx 의 코드를 고쳐야 한다.</p>
<h1></h1>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token punctuation">{</span><span class="token operator">!</span>registerBtn <span class="token operator">?</span>
    <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">"button"</span> className<span class="token operator">=</span><span class="token string">"add-btn"</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleRegisterBtn<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">"add-btn-plus"</span><span class="token operator">></span><span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>IcPlusBtnOg<span class="token punctuation">}</span> alt<span class="token operator">=</span><span class="token string">"ic_plus_btn"</span> <span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span> <span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span>MainRegister
    registerBtn<span class="token operator">=</span><span class="token punctuation">{</span>registerBtn<span class="token punctuation">}</span>
    handleRegisterBtn<span class="token operator">=</span><span class="token punctuation">{</span>handleRegisterBtn<span class="token punctuation">}</span>
    isEmptyList<span class="token operator">=</span><span class="token punctuation">{</span>isEmptyList<span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">></span></code></pre></div>
<h1></h1>
<p>그리고 css에도 코드를 추가한다.</p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token selector">&amp;.fade-out</span> <span class="token punctuation">{</span>
  <span class="token property">visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> fadeout 0.5s forwards ease<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h1></h1>
<p>여기에서 transition : 0.5s는 넣어준 이유가 animation에도 0.5s가 들어가 있지만, 위 사진에도 보여지듯이 MainRegister가 보여지고 등록 버튼들이 보여질 때 배경색도 같이 흐릿하게 변경되는 효과를 주었었다. transition 0.5s 를 빼니까 어떤 일이 일어나나면 버튼들은 0.5초에 걸쳐 서서히 사라지는데 배경색은 바로 변경이 되어 이 갭으로 인한 괴리감이 들었다. 그래서 배경색에도 서서히 사라지는 효과를 주기 위해 transition : 0.5s 라고 추가한 것이다.</p></div><div></div><style data-emotion="css 9w9jmx">.css-9w9jmx{display:grid;place-items:center;margin-top:auto;padding:50px 0;font-size:15px;text-align:center;line-height:1.5;}@media (max-width: 768px){.css-9w9jmx{font-size:13px;}}</style><footer class="css-9w9jmx e1oae0v80">Thank You for Visiting My Blog, Have a Good Day 😆<br/>© 2021 Developer Hyun, Powered By Gatsby.</footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/fade_animation/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-4259b1a0dbd23faf49e4.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-dc3c1aad471f45b02681.js\"],\"component---src-pages-info-tsx\":[\"/component---src-pages-info-tsx-dbc9fef63cf446878e42.js\"],\"component---src-templates-post-template-tsx\":[\"/component---src-templates-post-template-tsx-9b6e07f2ddf07dc12ba0.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="a6d5651ffc16ca07819b";</script><script src="/webpack-runtime-2712c9843d65577d9522.js" async></script><script src="/framework-6a525285796fb83f2864.js" async></script><script src="/app-4259b1a0dbd23faf49e4.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>